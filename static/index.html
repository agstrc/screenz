<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Screenz - Simple, secure, screen sharing</title>

    <meta
      property="og:title"
      content="Screenz - Simple, secure, screen sharing"
    />
    <meta
      property="og:description"
      content="Share your screen securely and easily with Screenz. No plugins required, works directly in your browser!"
    />
    <meta
      property="og:image"
      content="https://screenz.agst.dev/thumbnail.png"
    />
    <meta property="og:url" content="https://screenz.agst.dev/" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/plyr@3.7.8/dist/plyr.css"
    />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <div class="app-container">
      <h1>Screenz</h1>
      <p class="subtitle">Simple, secure, screen sharing</p>

      <div class="tab-nav">
        <button
          class="tab-button active"
          id="watchTabButton"
          data-target="watchTabContent"
        >
          Watch Stream
        </button>
        <button
          class="tab-button"
          id="streamTabButton"
          data-target="streamTabContent"
        >
          Start Stream
        </button>
      </div>

      <div class="tab-content-area">
        <div id="watchTabContent" class="tab-content active">
          <div class="tab-description">
            Enter the 5-character code provided by the streamer and click
            'Connect' to start watching.
          </div>
          <div id="viewerInfoContent">
            <label for="codeInput">Streamer Code:</label>
            <input
              type="text"
              id="codeInput"
              maxlength="5"
              placeholder="Enter 5-char code"
            />
            <button id="connectViewer" class="primary-button">Connect</button>
            <div id="remoteVideoContainer" class="plyr-inactive">
              <video id="remoteVideo" playsinline></video>
            </div>
          </div>
        </div>

        <div id="streamTabContent" class="tab-content">
          <div class="tab-description">
            Click 'Start Streaming'. Allow screen sharing permission. Share the
            generated code with your viewers.
          </div>
          <div id="streamerInfoContent">
            <button id="initiateStreamButton" class="primary-button">
              Start Streaming
            </button>
            <p id="streamerCodeDisplay">
              Your Code: <strong id="streamerCode">Waiting...</strong>
            </p>
            <p id="viewerCountDisplay">
              Viewers Connected: <strong id="viewerCount">0</strong>
            </p>
            <video id="localVideo" muted playsinline></video>
          </div>
        </div>
      </div>

      <div id="statusArea">
        <div id="status">Status: Idle</div>
        <div id="error"></div>
      </div>

      <div class="app-description">
        <h2>About Screenz</h2>
        <p>
          Screenz is a simple screen sharing application using modern web tech.
          Share your screen directly with others in real-time, right in your
          browser.
        </p>
        <div class="features">
          <div class="feature-item">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path
                d="M12 2L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-3zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12.99H5V6.3l7-3.11v9.8z"
              />
            </svg>
            <h4>Secure Connection</h4>
            <p>
              Direct peer-to-peer (WebRTC) connections are encrypted end-to-end.
            </p>
          </div>
          <div class="feature-item">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path d="M7 2v11h3v9l7-12h-4l4-8H7z" />
            </svg>
            <h4>Low Latency</h4>
            <p>
              Real-time streaming optimized for minimal delay between peers.
            </p>
          </div>
          <div class="feature-item">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path
                d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v10z"
              />
            </svg>
            <h4>Simple Setup</h4>
            <p>
              Works directly in your browser with no plugins or installations
              needed.
            </p>
          </div>
        </div>
        <h2>How it Works</h2>
        <p>
          This application leverages <strong>WebRTC</strong> to enable
          peer-to-peer connections directly between browsers. Initial connection
          setup (signaling) uses <strong>WebSockets</strong> to exchange
          necessary information. Once connected via WebRTC, the WebSocket is
          often no longer needed for viewers.
        </p>
        <h3>Browser Compatibility</h3>
        <p>WebRTC screen sharing works across modern web browsers like:</p>
        <ul>
          <li>Google Chrome</li>
          <li>Mozilla Firefox</li>
          <li>Microsoft Edge (Chromium-based)</li>
          <li>Apple Safari</li>
        </ul>
        <p>
          However, capturing <strong>audio</strong> alongside screen video can
          vary between browsers and operating systems:
        </p>
        <ul>
          <li>
            <strong>Chrome / Edge:</strong> Best overall support, especially on
            Windows. On macOS or Linux, capturing audio alongside the screen
            might have limitations.
          </li>
          <li>
            <strong>Firefox:</strong> Also offers good support for screen and
            audio capture.
          </li>
          <li>
            <strong>Safari:</strong> Supports screen sharing; capturing audio
            simultaneously might be less consistent.
          </li>
        </ul>
        <div class="highlight-box">
          <p>
            <strong>Recommendation:</strong> For the best chance of successfully
            sharing your screen <strong>with audio</strong>, use the latest
            <strong>Google Chrome</strong> or <strong>Microsoft Edge</strong>.
            Always grant necessary permissions when prompted. Quality depends on
            browser capabilities and network conditions.
          </p>
        </div>
        <p>
          <strong>Note:</strong> Performance depends on network conditions.
          Learn more at
          <a
            href="https://webrtc.org/"
            target="_blank"
            rel="noopener noreferrer"
            >WebRTC.org</a
          >.
        </p>
      </div>

      <div class="footer">
        &copy; 2025 Screenz - Minimalist screen sharing powered by WebRTC.<br />
        <a
          href="https://github.com/agstrc/screenz"
          target="_blank"
          rel="noopener noreferrer"
          style="
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
            margin-top: 8px;
            display: inline-block;
          "
          >View on GitHub</a
        >
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/plyr@3.7.8/dist/plyr.polyfilled.js"></script>

    <script src="/main.js"></script>
  </body>
</html>
